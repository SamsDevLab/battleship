(()=>{"use strict";var t={56:(t,e,n)=>{t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},72:t=>{var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},s=[],c=0;c<t.length;c++){var i=t[c],l=r.base?i[0]+r.base:i[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var h=n(d),m={css:i[1],media:i[2],sourceMap:i[3],supports:i[4],layer:i[5]};if(-1!==h)e[h].references++,e[h].updater(m);else{var p=a(m,r);r.byIndex=c,e.splice(c,0,{identifier:d,updater:p,references:1})}s.push(d)}return s}function a(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,a){var o=r(t=t||[],a=a||{});return function(t){t=t||[];for(var s=0;s<o.length;s++){var c=n(o[s]);e[c].references--}for(var i=r(t,a),l=0;l<o.length;l++){var u=n(o[l]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=i}}},113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,a,o){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(r)for(var c=0;c<this.length;c++){var i=this[c][0];null!=i&&(s[i]=!0)}for(var l=0;l<t.length;l++){var u=[].concat(t[l]);r&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),e.push(u))}},e}},354:t=>{t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},474:(t,e,n)=>{n.d(e,{A:()=>c});var r=n(354),a=n.n(r),o=n(314),s=n.n(o)()(a());s.push([t.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;QACS,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const c=s},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},659:t=>{var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return t[r](o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0;var r=n(72),a=n.n(r),o=n(825),s=n.n(o),c=n(659),i=n.n(c),l=n(56),u=n.n(l),d=n(540),h=n.n(d),m=n(113),p=n.n(m),f=n(474),g={};g.styleTagTransform=p(),g.setAttributes=u(),g.insert=i().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=h(),a()(f.A,g),f.A&&f.A.locals&&f.A.locals;const v=()=>{const t=[];for(let e=0;e<10;e++){t[e]=[];for(let n=0;n<10;n++)t[e][n]=null}return{board:t,placeShip:function(e,n,r,a){const o=[],s=((t,e)=>t<0||e<0)(n,r);if(!0===s)return;const c=((t,e,n,r)=>{const a=[];if("horizontal"===r)for(let r=0;r<t.length;r++)a.push(e,n+r);else if("vertical"===r)for(let r=0;r<t.length;r++)a.push(e+r,n);return a.some((t=>t>=10))})(e,n,r,a);if(!0===c)return;const i=((e,n,r,a)=>{const o=[];if("horizontal"===a)for(let a=0;a<e.length;a++)o.push(t[n][r+a]);if("vertical"===a)for(let a=0;a<e.length;a++)o.push(t[n+a][r]);return o.every((t=>null===t))})(e,n,r,a);if(!1!==i){for(let s=0;s<e.length;s++)"horizontal"===a?(t[n][r+s]=e,o.push([n,r+s])):"vertical"===a&&(t[n+s][r]=e,o.push([n+s,r]));return o}},receiveAttack:function(e,n,r){const a=this.board[e][n];if(null===a)return this.board[e][n]="missed",`${r.name} missed!`;if("object"==typeof a){a.hit(),this.board[e][n]="hit";const o=a.isSunk(),s=(()=>{const e=[];return t.forEach((t=>t.forEach((t=>{null!==t&&"object"==typeof t&&e.push(t)})))),e.every((t=>!0===t.sinkStatus))})();return!0===s?"All boats have been sunk!":!0===o?`${r.name} has sunk the ${a.name} vessel!`:`Direct hit to ${a.name} vessel!`}}}},C=()=>({realPlayer:function(t){return{name:t,gameMechanics:v()}},computerPlayer:function(){return{name:"Computer",gameMechanics:v()}}}),y=(t,e)=>({name:t,length:e,hitCount:0,sinkStatus:!1,hit:function(){return this.hitCount+=1,this.hitCount},isSunk:function(){return this.length===this.hitCount&&(this.sinkStatus=!0,!0)}}),b=(()=>{const t=document.querySelector("[data-modal='start-screen']"),e=document.querySelector("[data-board='start-screen']"),n=document.querySelector("[data-container='boat-placement']"),r=Array.from(document.querySelectorAll("[data-container='boat']")),a=document.querySelector("[data-button='axis']"),o=document.querySelector("[data-container='username-and-button']");let s=o.querySelector("[data-input='username']");const c=o.querySelector("[data-button='start-game']");return{startScreen:t,startScreenBoard:e,boatPlacementContainer:n,boatContainersArr:r,axisButton:a,usernameAndButtonContainer:o,usernameInput:s,startGameButton:c,errorTag:document.querySelector("[data-tag='error']"),messageBanner:document.querySelector("[data-container='banner']"),playerDiv:document.querySelector("[data-board='player']"),computerDiv:document.querySelector("[data-board='computer']"),winnerScreen:document.querySelector("[data-modal='winner-screen']"),winnerHeader:document.querySelector("[data-winner-header]"),playAgainButton:document.querySelector("[data-modal-button='play-again']")}})(),B={initGame:function(){return{realPlayerObj:C().realPlayer(),computerPlayerObj:C().computerPlayer()}},placeBoatInPlayerArr:function(t,e){e.gameMechanics.placeShip(y(t.name,t.length),t.row,t.column,t.direction)},placeBoatInComputerArr:function(t){const e=t.getComputerPlayer(),n=t.getCurrentBoat();e.gameMechanics.placeShip(y(n.name,n.length),n.row,n.column,n.direction)},attack:function(t,e,n,r){return n.gameMechanics.receiveAttack(t,e,r)}},S=B.initGame(),w=(()=>{let t,e,n={direction:"horizontal",name:"",length:0,row:0,column:0};return{getRealPlayer:function(){return t},getComputerPlayer:function(){return e},getCurrentBoat:function(){return n},storeObjects:function(n){t=n.realPlayerObj,e=n.computerPlayerObj},setCurrentBoatToDefault:function(){n.direction="horizontal",n.name="",n.length=0,n.row=0,n.column=0},setCurrentBoatDirection:function(t){n.direction=t},setCurrentBoatName:function(t){n.name=t},setCurrentBoatLength:function(t){n.length=t},setCurrentBoatRow:function(t){n.row=t},setCurrentBoatColumn:function(t){n.column=t},setPlayerObjsToDefault:function(){t=null,e=null}}})();w.storeObjects(S);const A=((t,e)=>{const n=(t,e)=>{const n=document.createElement("span");n.classList.add(`${t}-circle`),e.dataset.hitOrMiss=`${t}`,e.append(n)},r=(t,e)=>{const r=e.dataset.board;for(let a=0;a<t.length;a++){const o=document.createElement("div");o.classList.add("row"),o.dataset.row=`${a}`,e.append(o);for(let e=0;e<t.length;e++){const s=document.createElement("button");s.classList.add("column"),s.dataset.column=`${e}`,"missed"===t[a][e]||"hit"===t[a][e]?n(t[a][e],s):null!==t[a][e]&&"computer"!==r&&s.classList.add("highlight"),o.append(s)}}};return{openStartScreen:function(t,e,n){n.classList.add("is-open"),n.showModal(),e.replaceChildren(),r(t,e)},renderToDom:function(){const n=t.playerDiv,a=t.computerDiv,o=e.getRealPlayer(),s=e.getComputerPlayer();n.textContent="",a.textContent="",r(o.gameMechanics.board,n),r(s.gameMechanics.board,a)}}})(b,w),M=((t,e)=>{const n=t=>5===t.length?Math.floor(6*Math.random()):4===t.length?Math.floor(7*Math.random()):3===t.length?Math.floor(8*Math.random()):2===t.length?Math.floor(9*Math.random()):void 0;return{handleBoatInComputerArr:function(r,a){const o=t.getCurrentBoat();(()=>{const e=["horizontal","vertical"],n=e[Math.floor(Math.random()*e.length)];t.setCurrentBoatDirection(n)})(),(e=>{"horizontal"===e.direction?(t.setCurrentBoatRow(Math.floor(10*Math.random())),t.setCurrentBoatColumn(n(e))):"vertical"===e.direction&&(t.setCurrentBoatRow(n(e)),t.setCurrentBoatColumn(Math.floor(10*Math.random())))})(o),!0===(()=>{const n=t.getComputerPlayer().gameMechanics.board,r=(()=>{const n=t.getCurrentBoat(),r=e.startScreenBoard.children;let a=r[n.row],o=a.children,s=o[n.column];const c=[];if("horizontal"===n.direction)for(let t=0;t<n.length;t++)s=o[n.column+t],c.push(s);else if("vertical"===n.direction)for(let t=0;t<n.length;t++)a=r[n.row+t],void 0===a?c.push(a):(o=a.children,s=o[n.column],c.push(s));return c})(),a=[];return r.forEach((t=>{const e=t.closest("[data-row]").dataset.row,r=t.dataset.column;null!==n[e][r]?a.push(!0):a.push(!1)})),!0===a.find((t=>!0===t))})()&&r.handleBoatInComputerArr(r,a),a.placeBoatInComputerArr(t)}}})(w,b);A.openStartScreen(S.realPlayerObj.gameMechanics.board,b.startScreenBoard,b.startScreen);const x=((t,e,n,r,a)=>{const o=()=>{const n=e.getCurrentBoat(),r=t.startScreenBoard.children;let a=r[n.row],o=a.children,s=o[n.column];const c=[];if("horizontal"===n.direction)for(let t=0;t<n.length;t++)s=o[n.column+t],c.push(s);else if("vertical"===n.direction)for(let t=0;t<n.length;t++)a=r[n.row+t],void 0===a?c.push(a):(o=a.children,s=o[n.column],c.push(s));return c},s=t=>!0===t.some((t=>void 0===t))||!0===t.some((t=>t.classList.contains("remove-pointer")));return{handleBoatContainerClick:function(n){const r=t.boatContainersArr,a=n.target.closest("[data-container]");if("boat"===a.dataset.container)(t=>{const e=t.find((t=>t.classList.contains("selected")));void 0!==e&&(e.classList.remove("selected"),e.classList.add("hover-effect"))})(r),(o=a).classList.remove("hover-effect"),o.classList.add("selected"),e.setCurrentBoatName(o.dataset.boatName),e.setCurrentBoatLength(+o.dataset.boatLength);else if("axis-button"===a.dataset.container){const n=e.getCurrentBoat();((t,n)=>{"horizontal"===n.direction?(t.textContent="Vertical Axis",e.setCurrentBoatDirection("vertical")):"vertical"===n.direction&&(t.textContent="Horizontal Axis",e.setCurrentBoatDirection("horizontal"))})(t.axisButton,n)}var o},handleHoverAddHighlight:function(t){if("start-screen"===t.target.dataset.board)return;e.setCurrentBoatRow(+t.target.closest("[data-row]").dataset.row),e.setCurrentBoatColumn(+t.target.dataset.column);const n=o();!0!==s(n)&&n.forEach((t=>t.classList.add("highlight")))},handleHoverRemoveHighlight:function(t){if("start-screen"===t.target.dataset.board)return;e.setCurrentBoatRow(+t.target.closest("[data-row]").dataset.row);const n=o();!0!==s(n)&&(n.forEach((t=>t.classList.remove("highlight"))),e.setCurrentBoatRow(null),e.setCurrentBoatColumn(null))},handleClickBoatSelectHighlight:function(){const a=e.getCurrentBoat(),c=e.getRealPlayer(),i=(e.getComputerPlayer(),t.boatContainersArr);if(""===a.name)return;const l=o();!0!==s(l)&&(n.placeBoatInPlayerArr(a,c),r.handleBoatInComputerArr(r,n),l.forEach((t=>{t.classList.add("disabled"),t.classList.add("remove-pointer")})),(t=>{const e=t.find((t=>t.classList.contains("selected")));e.classList.remove("selected"),e.classList.add("disabled")})(i),e.setCurrentBoatToDefault(),"Vertical Axis"===t.axisButton.textContent&&(t.axisButton.textContent="Horizontal Axis"))},handleInput:function(t){const n=e.getRealPlayer(),r=t.target.value;n.name=r},handleStartButtonClick:function(){const n=e.getRealPlayer(),r=t.boatContainersArr.every((t=>t.classList.contains("disabled"))),o=(t=>void 0!==t.name)(n);!1===r||!1===o?(()=>{const e=document.createElement("p");e.textContent="⚠️ Please enter your name and place all 5 of your ships!",e.id="error-tag",e.dataset.tag="error",t.usernameAndButtonContainer.insertBefore(e,t.startGameButton)})():(t.startScreen.classList.remove("is-open"),t.startScreen.close(),t.messageBanner.textContent=`${n.name} shoots first!`,a.renderToDom())}}})(b,w,B,M,A),L=((t,e,n,r)=>{const a=(e,n)=>{var a;"All boats have been sunk!"===e&&(a=n,t.winnerScreen.classList.add("show-winner"),t.winnerScreen.showModal(),t.winnerHeader.textContent=`${a.name} wins the game!`),t.messageBanner.textContent="",t.messageBanner.textContent=e,r.renderToDom()},o=t=>{const e=Math.floor(10*Math.random(t.length)),n=Math.floor(10*Math.random(t[0].length));return"hit"===t[e][n]||"missed"===t[e][n]?o(t):{row:e,col:n}},s=()=>{const t=n.getRealPlayer(),r=n.getComputerPlayer(),s=t.gameMechanics.board;let c=o(s);const i=e.attack(c.row,c.col,t,r);a(i,r)};return{handleComputerBoardClick:function(r){const o=n.getComputerPlayer(),c=n.getRealPlayer(),i=(t=>(console.log(t),"missed"===t.target.dataset.hitOrMiss||"missed"===t.target.parentNode.dataset.hitOrMiss||"hit"===t.target.dataset.hitOrMiss||"hit"===t.target.parentNode.dataset.hitOrMiss))(r);if(!0===i)return t.messageBanner.textContent="",void(t.messageBanner.textContent="Target has already been shot. Try again!");const l=(t=>({targetRow:t.target.parentElement.dataset.row,targetColumn:t.target.dataset.column}))(r);((t,n,r)=>{const o=e.attack(t.targetRow,t.targetColumn,n,r);a(o,r)})(l,o,c),setTimeout(s,1700)}}})(b,B,w,A),P=((t,e,n,r)=>({handleGameReset:function(){t.winnerScreen.classList.remove("show-winner"),t.winnerScreen.close(),t.playerDiv.replaceChildren(),t.computerDiv.replaceChildren(),(()=>{n.setPlayerObjsToDefault();const t=e.initGame();n.storeObjects(t)})(),t.boatContainersArr.forEach((t=>{t.classList.remove("disabled"),t.classList.add("hover-effect")})),Array.from(t.startScreenBoard.querySelectorAll(".highlight")).forEach((t=>{t.classList.remove("highlight"),t.classList.remove("disabled")})),t.usernameInput.value="",(()=>{const t=document.querySelector("[data-tag='error']");null!==t&&t.remove()})();const a=n.getRealPlayer();r.openStartScreen(a.gameMechanics.board,t.startScreenBoard,t.startScreen)}}))(b,B,w,A);((t,e,n,r)=>{t.boatPlacementContainer.addEventListener("click",(t=>e.handleBoatContainerClick(t))),t.startScreenBoard.addEventListener("mouseover",(t=>{e.handleHoverAddHighlight(t)})),t.startScreenBoard.addEventListener("mouseout",(t=>{e.handleHoverRemoveHighlight(t)})),t.startScreenBoard.addEventListener("click",(()=>{e.handleClickBoatSelectHighlight()})),t.usernameInput.addEventListener("change",(t=>e.handleInput(t))),t.startGameButton.addEventListener("click",(()=>e.handleStartButtonClick())),t.computerDiv.addEventListener("click",(t=>{n.handleComputerBoardClick(t)})),t.playAgainButton.addEventListener("click",(()=>{r.handleGameReset()}))})(b,x,L,P)})();
//# sourceMappingURL=main.js.map